{% extends "layout.html" %}

{% block content %}
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-7">
            <div class="card shadow-lg border-0">
                <div class="card-body p-4">
                    <h2 class="card-title text-center mb-3">
                        <i class="bi bi-chat-dots"></i> Konsultasi AI Luka Diabetes
                    </h2>
                    <p class="text-center text-muted mb-4">
                        Chat dengan AI untuk mendapatkan saran mengenai penanganan luka diabetes Anda.
                    </p>
                    <div id="chat-box" class="mb-3 p-3 border rounded bg-light" style="height: 300px; overflow-y: auto;">
                        <!-- Pesan akan ditampilkan di sini -->
                    </div>
                    <form id="chat-form" class="d-flex">
                        <input type="text" id="chat-input" class="form-control me-2" placeholder="Tulis pesan Anda..." autocomplete="off" required>
                        <button type="submit" id="sendBtn" class="btn btn-primary">
                            <i class="bi bi-send"></i> Kirim
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Bootstrap Icons CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<script src="{{ url_for('static', filename='js/firebase-chat.js') }}"></script>
<script>
  window.firebaseConfig = {
    apiKey: "{{ FIREBASE_API_KEY }}",
    authDomain: "{{ FIREBASE_AUTH_DOMAIN }}",
    projectId: "{{ FIREBASE_PROJECT_ID }}",
    storageBucket: "{{ FIREBASE_STORAGE_BUCKET }}",
    messagingSenderId: "{{ FIREBASE_MESSAGING_SENDER_ID }}",
    appId: "{{ FIREBASE_APP_ID }}"
  };
</script>
<script type="module" src="{{ url_for('static', filename='js/firebase-chat.js') }}"></script>
{% endblock %}